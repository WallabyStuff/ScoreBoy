# 1. 서비스 설명
평소 스포츠를 즐기던 도중 점수세는 것에 대한 상대방과의 소통에 불편함을 느껴서 상대방과 떨어져 있어도 점수를 알 수 있도록 도와주는 워치 유틸리티 앱 입니다.

### Preview
![Preview](https://github.com/WallabyStuff/ScoreBoy/assets/63496607/4dd51727-a03c-442b-a3e2-626d66b774be)


<br>
<br>


# 2. Firebase RTDB를 통해서 매치를 생성하고 종료하는 로직

### **🤝 매칭 시나리오**

1. 처음 `User1`이 매치를 생성하게 됩니다.
이때 app 단에서 [A, B, C, D, 1, 2, 3] 을 조합한 랜덤 String 값을 이용하여 방의 고유 넘버를 가지고 방을 생성하게 됩니다. (아직 유저가 많이 확보된 것도 아니라 중복을 허용했을 때의 경우의 수는 충분하다고 판단하였습니다. 또한 유저가 많아지는 경우 방 키에 대한 중복 체크도 해야할텐데 이런 경우에는 프론트의 영역을 벗어난다고 판단하였습니다.)
2. `User2`는 `User1`이 생성한 **key**를 가지고 방을 찾게 됩니다.
그리고 해당 방에 `User2`의 정보들을 기입합니다.
3. 방의 노드 상태를 옵저빙 하고있던 `User1`은 매칭이 되었다고 판단하게 됩니다.
4. 동시에 `User2`도 방의에 본인의 정보가 정상적으로 등록되었음을 확인하고 매칭이 되었다고 판단하게 됩니다.

### **💥 방 폭파 시나리오**

1. 한 유저가 매칭 화면을 나가게 됩니다.
2. 다른 유저는 방의 하위 노드 상태들이 변경되었음을 감지하고 상대방이 나갔음을 확인하게 됩니다.
3. 이때 앱에서 방을 유지해서 상대방의 재접속을 허용시킬 것인지, 아니면 그대로 방을 폭파시킬 것인지에 대해서 묻습니다.
4. 유저의 선택에 따라서 동작을 수행합니다.

![Logic](https://github.com/WallabyStuff/ScoreBoy/assets/63496607/1bf757fb-4301-4ef7-9c01-17f488b43730)
